!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).wrap={})}(this,(function(t){"use strict";function e(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,s,"next",t)}function s(t){e(a,o,i,u,s,"throw",t)}u(void 0)}))}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t,e,r){return(d=p()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&f(o,r.prototype),o}).apply(null,arguments)}function h(t){var e="function"==typeof Map?new Map:void 0;return(h=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return d(t,arguments,c(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?v(t):e}function b(t){var e=p();return function(){var r,n=c(t);if(e){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}var w=/-(\w)/g,S=function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))},g=/\B([A-Z])/g,m=function(t){return t.replace(g,"-$1").toLowerCase()};function O(t){var e={};return t.forEach((function(t){e[t]=void 0})),e}function _(t,e){e.forEach((function(e){return t.appendChild(e.cloneNode(!0))}))}function M(t,e,r){return r?Array.from(t.querySelectorAll(e)).filter(r):Array.from(t.querySelectorAll(e))}function P(t,e,r,n,o){return new MutationObserver((function(e,o){e.forEach((function(e){var o=Array.from(e.addedNodes).filter((function(t){return t.matches&&t.matches(r)}));o.length>0&&t(n?o.filter(n):o)}))})).observe(e,o)}function j(t,e,r){t[e]=[].concat(t[e]||[]),t[e].unshift(r)}function k(t,e){t&&(t.$options[e]||[]).forEach((function(e){e.call(t)}))}function D(t,e){return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e})}var C=function(t){return/function Boolean/.test(String(t))},E=function(t){return/function Number/.test(String(t))};function I(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.type;if(C(n))return"true"===t||"false"===t?"true"===t:""===t||t===e||null!=t;if(E(n)){var o=parseFloat(t,10);return isNaN(o)?t:o}return t}function H(t,e){for(var r=[],n=0,o=e.length;n<o;n++)r.push(R(t,e[n]));return r}function R(t,e){if(3===e.nodeType)return e.data.trim()?e.data:null;if(1===e.nodeType){var r={attrs:T(e),domProps:{innerHTML:e.innerHTML}};return r.attrs.slot&&(r.slot=r.attrs.slot,delete r.attrs.slot),t(e.tagName,r)}return null}function T(t){for(var e={},r=0,n=t.attributes.length;r<n;r++){var o=t.attributes[r];e[o.nodeName]=o.nodeValue}return e}t.default=function(t,e){var o,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f="function"==typeof e&&!e.cid,p=!1;if(c.globalStyles){var d={target:document.head,selector:'style, link[rel="stylesheet"], link[rel="preload"][as="style"]',filter:void 0,observeOptions:{childList:!0,subtree:!0}};c.globalStyles=s(s({},d),c.globalStyles)}function y(t){if(!p){var e="function"==typeof t?t.options:t,r=Array.isArray(e.props)?e.props:Object.keys(e.props||{});o=r.map(m),a=r.map(S);var n=Array.isArray(e.props)?{}:e.props||{};u=a.reduce((function(t,e,o){return t[e]=n[r[o]],t}),{}),j(e,"beforeCreate",(function(){var t=this,e=this.$emit;this.$emit=function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.$root.$options.customElement.dispatchEvent(D(r,o)),e.call.apply(e,[t,r].concat(o))}})),j(e,"created",(function(){var t=this;a.forEach((function(e){t.$root.props[e]=t[e]}))})),a.forEach((function(t){Object.defineProperty(g.prototype,t,{get:function(){return this._wrapper.props[t]},set:function(e){this._wrapper.props[t]=e},enumerable:!1,configurable:!0})})),p=!0}}function w(t,e){var r=S(e),n=t.hasAttribute(e)?t.getAttribute(e):void 0;t._wrapper.props[r]=I(n,e,u[r])}var g=function(u){l(d,u);var s,f=b(d);function d(){var r;n(this,d);var o=r=f.call(this);o.attachShadow({mode:"open"});var i=o._wrapper=new t({name:"shadow-root",customElement:o,shadowRoot:o.shadowRoot,data:function(){return{props:{},slotChildren:[],ShadyDOMSlotsHack_slotsPassedToWrapper:!1,ShadyDOMSlotsHack_deregisterSetIntervalListener:null}},render:function(t){return t(e,{ref:"inner",props:this.props},this.slotChildren)}});if(window.ShadyDOM){window.ShadyDOM.observeChildren(v(r),(function(){i.ShadyDOMSlotsHack_slotsPassedToWrapper||(i.ShadyDOMSlotsHack_slotsPassedToWrapper=!0)})),window.ShadyDOMSlotsHack_setInterval=window.ShadyDOMSlotsHack_setInterval||new function(){var t=this;this.listeners=[],this.add=function(e){var r=Math.floor(1e6*Math.random());return t.listeners.push({handler:e,id:r}),1===t.listeners.length&&t.start(),r},this.remove=function(e){t.listeners.splice(t.listeners.findIndex((function(t){return t.id===e})),1),0===t.listeners.length&&t.stop()},this.start=function(){void 0!==t.intervalId&&null!==t.intervalId||(t.intervalId=window.setInterval((function(){t.listeners.forEach((function(t){return(0,t.handler)()}))}),100))},this.stop=function(){t.intervalId&&(window.clearInterval(t.intervalId),t.intervalId=null)}};var a=window.ShadyDOMSlotsHack_setInterval.add((function(){i.ShadyDOMSlotsHack_slotsPassedToWrapper&&r.updateSlotChildren()}));i.ShadyDOMSlotsHack_deregisterSetIntervalListener=function(){return window.ShadyDOMSlotsHack_setInterval.remove(a)}}return new MutationObserver((function(t){for(var e=!1,n=0;n<t.length;n++){var i=t[n];p&&"attributes"===i.type&&i.target===o?w(o,i.attributeName):e=!0}e&&r.updateSlotChildren()})).observe(o,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),r}return i(d,[{key:"updateSlotChildren",value:function(){this._wrapper.slotChildren=Object.freeze(H(this._wrapper.$createElement,this.childNodes)),0===this._wrapper.slotChildren.length&&(this._wrapper.ShadyDOMSlotsHack_slotsPassedToWrapper=!1)}},{key:"connectedCallback",value:(s=r(regeneratorRuntime.mark((function t(){var r,n,i,u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._wrapper,t.next=3,Promise.resolve();case 3:r._isMounted?k(this.vueComponent,"activated"):(n=function(){r.props=O(a),o.forEach((function(t){w(u,t)}))},p?n():e().then((function(t){(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),y(t),n()})),this.updateSlotChildren(),i=document.createElement("div"),this.shadowRoot.appendChild(i),c.globalStyles&&(_(this.shadowRoot,M(c.globalStyles.target,c.globalStyles.selector,c.globalStyles.filter)),P((function(t){_(u.shadowRoot,t)}),c.globalStyles.target,c.globalStyles.selector,c.globalStyles.filter,c.globalStyles.observeOptions)),r.$mount(i));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){this._wrapper&&this._wrapper.ShadyDOMSlotsHack_deregisterSetIntervalListener&&this._wrapper.ShadyDOMSlotsHack_deregisterSetIntervalListener(),k(this.vueComponent,"deactivated")}},{key:"vueComponent",get:function(){return this._wrapper.$refs.inner}}]),d}(h(HTMLElement));return f||y(e),g},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-wc-wrapper.umd.js.map
