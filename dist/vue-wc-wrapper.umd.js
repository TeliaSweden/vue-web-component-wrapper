!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).wrap={})}(this,(function(t){"use strict";function e(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return(a=i()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return a(t,arguments,r(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o(i,t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}var l=/-(\w)/g,f=function(t){return t.replace(l,(function(t,e){return e?e.toUpperCase():""}))},p=/\B([A-Z])/g,d=function(t){return t.replace(p,"-$1").toLowerCase()};function h(t,e,n){t[e]=[].concat(t[e]||[]),t[e].unshift(n)}function v(t,e){t&&(t.$options[e]||[]).forEach((function(e){e.call(t)}))}function y(t,e){return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e})}var w=function(t){return/function Boolean/.test(String(t))},b=function(t){return/function Number/.test(String(t))};function S(t,e){if(3===e.nodeType)return e.data.trim()?e.data:null;if(1===e.nodeType){var n={attrs:m(e),domProps:{innerHTML:e.innerHTML}};return n.attrs.slot&&(n.slot=n.attrs.slot,delete n.attrs.slot),t(e.tagName,n)}return null}function m(t){for(var e={},n=0,r=t.attributes.length;n<r;n++){var o=t.attributes[n];e[o.nodeName]=o.nodeValue}return e}t.default=function(t,a){var l,p,m,_="function"==typeof a&&!a.cid,g=!1;function O(t){if(!g){var e="function"==typeof t?t.options:t,n=Array.isArray(e.props)?e.props:Object.keys(e.props||{});l=n.map(d),p=n.map(f);var r=Array.isArray(e.props)?{}:e.props||{};m=p.reduce((function(t,e,o){return t[e]=r[n[o]],t}),{}),h(e,"beforeCreate",(function(){var t=this,e=this.$emit;this.$emit=function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.$root.$options.customElement.dispatchEvent(y(n,o)),e.call.apply(e,[t,n].concat(o))}})),h(e,"created",(function(){var t=this;p.forEach((function(e){t.$root.props[e]=t[e]}))})),p.forEach((function(t){Object.defineProperty(k.prototype,t,{get:function(){return this._wrapper.props[t]},set:function(e){this._wrapper.props[t]=e},enumerable:!1,configurable:!0})})),g=!0}}function M(t,e){var n=f(e),r=t.hasAttribute(e)?t.getAttribute(e):void 0;t._wrapper.props[n]=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.type;if(w(r))return"true"===t||"false"===t?"true"===t:""===t||t===e||null!=t;if(b(r)){var o=parseFloat(t,10);return isNaN(o)?t:o}return t}(r,e,m[n])}var k=function(u){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(k,u);var f,d,h,y,w,b,m,_=(f=k,d=i(),function(){var t,e=r(f);if(d){var n=r(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function k(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,k);var n=e=_.call(this);n.attachShadow({mode:"open"});var r=n._wrapper=new t({name:"shadow-root",customElement:n,shadowRoot:n.shadowRoot,data:function(){return{props:{},slotChildren:[],ShadyDOMSlotsHack_slotsPassedToWrapper:!1,ShadyDOMSlotsHack_deregisterSetIntervalListener:null}},render:function(t){return t(a,{ref:"inner",props:this.props},this.slotChildren)}});if(window.ShadyDOM){window.ShadyDOM.observeChildren(s(e),(function(){r.ShadyDOMSlotsHack_slotsPassedToWrapper||(r.ShadyDOMSlotsHack_slotsPassedToWrapper=!0)})),window.ShadyDOMSlotsHack_setInterval=window.ShadyDOMSlotsHack_setInterval||new function(){var t=this;this.listeners=[],this.add=function(e){var n=Math.floor(1e6*Math.random());return t.listeners.push({handler:e,id:n}),1===t.listeners.length&&t.start(),n},this.remove=function(e){t.listeners.splice(t.listeners.findIndex((function(t){return t.id===e})),1),0===t.listeners.length&&t.stop()},this.start=function(){void 0!==t.intervalId&&null!==t.intervalId||(t.intervalId=window.setInterval((function(){t.listeners.forEach((function(t){return(0,t.handler)()}))}),100))},this.stop=function(){t.intervalId&&(window.clearInterval(t.intervalId),t.intervalId=null)}};var o=window.ShadyDOMSlotsHack_setInterval.add((function(){r.ShadyDOMSlotsHack_slotsPassedToWrapper&&e.updateSlotChildren()}));r.ShadyDOMSlotsHack_deregisterSetIntervalListener=function(){return window.ShadyDOMSlotsHack_setInterval.remove(o)}}return new MutationObserver((function(t){for(var r=!1,o=0;o<t.length;o++){var i=t[o];g&&"attributes"===i.type&&i.target===n?M(n,i.attributeName):r=!0}r&&e.updateSlotChildren()})).observe(n,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),e}return h=k,(y=[{key:"updateSlotChildren",value:function(){this._wrapper.slotChildren=Object.freeze(function(t,e){for(var n=[],r=0,o=e.length;r<o;r++)n.push(S(t,e[r]));return n}(this._wrapper.$createElement,this.childNodes)),0===this._wrapper.slotChildren.length&&(this._wrapper.ShadyDOMSlotsHack_slotsPassedToWrapper=!1)}},{key:"connectedCallback",value:(b=regeneratorRuntime.mark((function t(){var e,n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._wrapper,t.next=3,Promise.resolve();case 3:e._isMounted?v(this.vueComponent,"activated"):(n=function(){var t;e.props=(t={},p.forEach((function(e){t[e]=void 0})),t),l.forEach((function(t){M(o,t)}))},g?n():a().then((function(t){(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),O(t),n()})),this.updateSlotChildren(),r=document.createElement("div"),this.shadowRoot.appendChild(r),e.$mount(r));case 4:case"end":return t.stop()}}),t,this)})),m=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=b.apply(t,n);function a(t){e(i,r,o,a,u,"next",t)}function u(t){e(i,r,o,a,u,"throw",t)}a(void 0)}))},function(){return m.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){this._wrapper&&this._wrapper.ShadyDOMSlotsHack_deregisterSetIntervalListener&&this._wrapper.ShadyDOMSlotsHack_deregisterSetIntervalListener(),v(this.vueComponent,"deactivated")}},{key:"vueComponent",get:function(){return this._wrapper.$refs.inner}}])&&n(h.prototype,y),w&&n(h,w),k}(u(HTMLElement));return _||O(a),k},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-wc-wrapper.umd.js.map
